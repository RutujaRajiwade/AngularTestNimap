<div class="modal-header">
  <h3 class="modal-title pull-left">
    User Register
  </h3>
  <button type="button" class="close pull-right" aria-label="Close" (click)="bsModalRef.hide()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div class="modal-body">
  <form [formGroup]="registerForm">
    <div class="row">
      <div class="col-12 col-lg-4 text-center">
        <label for="profilePhoto" class="cursor-pointer profile-photo"
          [ngClass]="{'in-valid' : !registerForm.get('profilePhoto')?.valid && registerForm.get('profilePhoto')?.touched}">
          <img [src]="_d.bypassSecurityTrustUrl(imgsrc)" class="img-fluid">
          <p class="h6 text-primary mt-2">Upload Your Photo</p>
        </label>
        <input accept="image/*" type='file' formControlName="profilePhoto" id="profilePhoto" class="d-none"
          (change)="fileChange($event)" />
        <small *ngIf="!registerForm.get('profilePhoto')?.valid && registerForm.get('profilePhoto')?.touched"
          class="h6 text-danger mt-2 d-block"> This
          field is required.
        </small> 
      </div>
      <div class="col-12 col-lg-8 ">
        <div class="row mb-3">
          <div class="col-12 col-lg-6 mb-lg-0 mb-3">
            <div class="form-group mb-0">
              <label class="control-label required mb-2">First Name</label>
              <input formControlName="firstName" class="form-control" placeholder="First Name">
              <!-- Validations -->
              <div
                *ngIf="!registerForm.get('firstName')?.valid && registerForm.get('firstName')?.errors && registerForm.get('firstName')?.dirty || registerForm.get('firstName')?.touched">
                <small *ngIf="registerForm.get('firstName')?.hasError('required')"
                  class="h6 text-danger mt-2 d-block text-left"> This field is required.
                </small>
                <small *ngIf="registerForm.get('firstName')?.hasError('pattern')"
                  class="h6 text-danger mt-2 d-block text-left"> Only
                  alphabetic characters are allowed
                </small>
                <small *ngIf="registerForm.get('firstName')?.hasError('maxlength')"
                  class="h6 text-danger mt-2 d-block text-left">
                  The maximum length for this field is 20
                  characters.
                </small>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-6">
            <div class="form-group mb-0">
              <label class="control-label required mb-2">Last Name</label>
              <input formControlName="lastName" class="form-control" placeholder="Last Name">
              <!-- Validations -->
              <div
                *ngIf="!registerForm.get('lastName')?.valid && registerForm.get('lastName')?.errors && registerForm.get('lastName')?.dirty || registerForm.get('lastName')?.touched">
                <small *ngIf="registerForm.get('lastName')?.hasError('required')"
                  class="h6 text-danger mt-2 d-block text-left"> This field is required.
                </small>
                <small *ngIf="registerForm.get('lastName')?.hasError('pattern')"
                  class="h6 text-danger mt-2 d-block text-left"> Only
                  alphabetic characters are allowed
                </small>
              </div>
            </div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-12">
            <div class="form-group mb-0">
              <label class="control-label required mb-2">Email</label>
              <input formControlName="email" class="form-control" placeholder="Email">
              <!-- Validations -->
              <div
                *ngIf="!registerForm.get('email')?.valid && registerForm.get('email')?.errors && registerForm.get('email')?.dirty || registerForm.get('email')?.touched">
                <small *ngIf="registerForm.get('email')?.hasError('required')"
                  class="h6 text-danger mt-2 d-block text-left"> This field is required.
                </small>
                <small *ngIf="registerForm.get('email')?.hasError('email')"
                  class="h6 text-danger mt-2 d-block text-left">Field data is not valid
                </small>
              </div>
            </div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-12">
            <div class="form-group mb-0">
              <label class="control-label required mb-2">Phone</label>
              <input formControlName="phone" class="form-control" placeholder="phone">
              <!-- Validations -->
              <div
                *ngIf="!registerForm.get('phone')?.valid && registerForm.get('phone')?.errors && registerForm.get('phone')?.dirty || registerForm.get('phone')?.touched">
                <small *ngIf="registerForm.get('phone')?.hasError('required')"
                  class="h6 text-danger mt-2 d-block text-left"> This field is required.
                </small>
                <small *ngIf="registerForm.get('phone')?.hasError('pattern')"
                  class="h6 text-danger mt-2 d-block text-left"> Only
                  numeric characters are allowed
                </small>
                <small *ngIf="registerForm.get('phone')?.hasError('maxlength')"
                  class="h6 text-danger mt-2 d-block text-left">
                  The maximum length for this field is 10
                  characters.
                </small>
              </div>
            </div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-12">
            <div class="form-group mb-0 d-flex align-items-center">
              <label for="control-label required" class="mr-3">Age</label>
              <ngx-slider [options]="options" formControlName="age"></ngx-slider>
              <!-- Validations -->
              <div
                *ngIf="!registerForm.get('age')?.valid && registerForm.get('age')?.errors && registerForm.get('age')?.dirty || registerForm.get('age')?.touched">
                <small *ngIf="registerForm.get('age')?.hasError('required')"
                  class="h6 text-danger mt-2 d-block text-left"> This field is required.
                </small>
              </div>
            </div>
          </div>
        </div>

        <div formGroupName="addressDetails">
          <div class="row mb-3">
            <div class="col-12">
              <div class="form-group mb-0">
                <label class="control-label required mb-2">State</label>
                <select class="form-control" formControlName="state">
                  <option value="selectState">Select State </option>
                  <option value="Andhra Pradesh">Andhra Pradesh</option>
                  <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                  <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                  <option value="Assam">Assam</option>
                  <option value="Bihar">Bihar</option>
                  <option value="Chandigarh">Chandigarh</option>
                  <option value="Chhattisgarh">Chhattisgarh</option>
                  <option value="Dadar and Nagar Haveli">Dadar and Nagar Haveli</option>
                </select>
                <!-- Validations -->
                <div
                  *ngIf="!registerForm.get('addressDetails.state')?.valid && registerForm.get('addressDetails.state')?.errors && registerForm.get('addressDetails.state')?.dirty || registerForm.get('addressDetails.state')?.touched">
                  <small *ngIf="registerForm.get('addressDetails.state')?.hasError('required')"
                    class="h6 text-danger mt-2 d-block text-left"> This field is required.
                  </small>
                </div>
              </div>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-12">
              <div class="form-group mb-0">
                <label class="control-label required mb-2">Country</label>
                <select class="form-control" id="country" formControlName="country">
                  <option value="selectCountry">Select Country </option>
                  <option value="india">India</option>
                  <option value="Afghanistan">Afghanistan</option>
                  <option value="Åland Islands">Åland Islands</option>
                  <option value="Albania">Albania</option>
                  <option value="Algeria">Algeria</option>
                  <option value="American Samoa">American Samoa</option>
                  <option value="Andorra">Andorra</option>
                  <option value="Angola">Angola</option>
                  <option value="Anguilla">Anguilla</option>
                  <option value="Antarctica">Antarctica</option>
                  <option value="Antigua and Barbuda">Antigua and Barbuda</option>
                </select>
                <!-- Validations -->
                <div
                  *ngIf="!registerForm.get('addressDetails.country')?.valid && registerForm.get('addressDetails.country')?.errors && registerForm.get('addressDetails.country')?.dirty || registerForm.get('addressDetails.country')?.touched">
                  <small *ngIf="registerForm.get('addressDetails.country')?.hasError('required')"
                    class="h6 text-danger mt-2 d-block text-left"> This field is required.
                  </small>
                </div>
              </div>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-12">
              <div class="form-group mb-0">
                <label class="control-label required mb-2">Address</label>
                <select class="form-control" id="contry" formControlName="address">
                  <option value="home">Home </option>
                  <option value="company">Company</option>
                </select>
                <!-- Validations -->
                <div
                  *ngIf="!registerForm.get('addressDetails.address')?.valid && registerForm.get('addressDetails.address')?.errors && registerForm.get('addressDetails.address')?.dirty || registerForm.get('addressDetails.address')?.touched">
                  <small *ngIf="registerForm.get('addressDetails.address')?.hasError('required')"
                    class="h6 text-danger mt-2 d-block text-left"> This field is required.
                  </small>
                </div>
              </div>
            </div>
          </div>

          <div class="row mb-3" *ngIf="registerForm.get('addressDetails.address')?.value">
            <div class="col-12">
              <div class="form-group mb-0">
                <label class="control-label mb-2"
                  *ngIf="registerForm.get('addressDetails.address')?.value === 'home'">Address
                  1</label>
                <label class="control-label mb-2"
                  *ngIf="registerForm.get('addressDetails.address')?.value === 'company'">Company
                  Address 1</label>
                <input formControlName="address1" class="form-control" placeholder="Address 1">
                <!-- Validations -->
                <div
                  *ngIf="!registerForm.get('addressDetails.address1')?.valid && registerForm.get('addressDetails.address1')?.errors && registerForm.get('addressDetails.address1')?.dirty || registerForm.get('addressDetails.address1')?.touched">
                  <small *ngIf="registerForm.get('addressDetails.address1')?.hasError('required')"
                    class="h6 text-danger mt-2 d-block text-left"> This field is required.
                  </small>
                </div>
              </div>
            </div>
          </div>

          <div class="row mb-3" *ngIf="registerForm.get('addressDetails.address')?.value">
            <div class="col-12">
              <div class="form-group mb-0">
                <label class="control-label mb-2"
                  *ngIf="registerForm.get('addressDetails.address')?.value === 'home'">Address
                  2</label>
                <label class="control-label mb-2"
                  *ngIf="registerForm.get('addressDetails.address')?.value === 'company'">Company
                  Address 2</label>
                <input formControlName="address2" class="form-control" placeholder="Address 2">
              </div>
            </div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-12">
            <div class="form-group mb-0">
              <label class="control-label mb-2">Interest</label>
              <input formControlName="interest" class="form-control" placeholder="Interest" #interest
                (keyup.enter)="interestInAdd(interest.value)" (blur)="interestInAdd(interest.value); interest.value=''">
            </div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-12">
            <ul class="list-tag d-flex flex-wrap">
              <li class="tag bg-secondary p-2 mr-2 mb-2 d-flex text-white" *ngFor="let interest of interestList">
                {{interest}} <span class="cursor-pointer ml-3 text-warning font-weight-bold"
                  (click)="removeInterestTag(interest)">&#10005;</span>
              </li>
            </ul>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-12">
            <div class="custom-control custom-checkbox d-flex align-items-center mr-5">
              <input type="checkbox" class="custom-control-input mt-0" id="newsletter" formControlName="newsletter">
              <label class="custom-control-label" for="newsletter">Subscribe to newsletter</label>
            </div>
          </div>
        </div>

      </div>
    </div>
    <div class="d-flex justify-content-end">
      <button type="cancel" class="btn btn-outline-primary mr-4" (click)="bsModalRef.hide()">Cancel</button>
      <button type="submit" class="btn btn-primary" (click)="onRegisterFormSubmit()">Submit</button>
    </div>
  </form>
</div>